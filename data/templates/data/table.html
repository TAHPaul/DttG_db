{% extends 'data/base.html' %}

{% block title%}
Tabular data
{% endblock title%}

{% block content%}
<div class="row">
	<div class="col-12">
		<div class="card card-body">
			<form method="get">
				{{ myFilter.form }}<br>
			<button class="btn btn-primary" type="submit">
				<span class="spinner-border spinner-border-sm">Search</span>
			</button>
			</form>
		</div>
		<div class="card card-body">
			<h5 align="right">{{ results }} results</h5>
		</div>
	</div>
</div>
<table class="table table-condensed table-hover table-striped">
	<thead>
		<tr>
			<!--<th></th>-->
			<th>ID</th>
			<th>Title</th>
			<th>Artist</th>
			<th>Date</th>
			<th>Place of Execution</th>
			<th>No. of Ground Layers</th>
			<th>Colour-code</th>
			<th>Layers</th>
		</tr>
	</thead>
	<tbody>
		{% for artwork in artworks %}
			<tr>
				<!--<td><a href="{{ artwork.image.url }}"><img class="img-responsive" src="{{ artwork.image.url }}"></a></td>-->
				<td>{{ artwork.id }}</td>
				<td><a href="{% url 'data-detail' artwork.id %}">{{ artwork.title }}</a></td>
				{% if artwork.artist2.full_name %}
					<td>{{ artwork.artist_validity}} <a href="{% url 'artists-detail' artwork.artist1.id %}">{{ artwork.artist1.full_name }} </a><a href="{% url 'artists-detail' artwork.artist2.id %}">{{ artwork.artist2.full_name }}</a></td>
				{% else %}
					<td>{{ artwork.artist_validity}} <a href="{% url 'artists-detail' artwork.artist1.id %}">{{ artwork.artist1.full_name }} </a></td>
				{% endif %}
				{% if artwork.date2 %}
					<td>{{ artwork.date_validity }} {{ artwork.date1 }} - {{ artwork.date2 }}</td>
				{% else %}
					<td>{{ artwork.date_validity}} {{artwork.date1 }}</td>
				{% endif %}			
				<td><a href="{% url 'city-of-execution-detail' artwork.place_of_execution.city %}">{{ artwork.place_of_execution }}</a></td>
				<td>{{ artwork.data.no_of_grounds }}</td>
				<td>{{ artwork.data.colour_code}}</td>
				<td>
					{% if artwork.data.no_of_grounds == '1' %}
						<div style="background-color: {{ artwork.data.layer1_colour.hex_code }} ; padding: 10px;  border: 1px solid black;"></div>
					{% elif artwork.data.no_of_grounds == '2' %}
						<div style=" border: 1px solid black;">
							<div style="background-color: {{ artwork.data.layer2_colour.hex_code }} ; padding: 10px; margin-bottom:0;"></div>
						<div style="background-color: {{ artwork.data.layer1_colour.hex_code }} ; padding: 10px; margin:0; padding-top:10;"></div>
						</div>
						
					{% elif artwork.data.no_of_grounds == '3' %}
						<div style=" border: 1px solid black;">
							<div style="background-color: {{ artwork.data.layer3_colour.hex_code }} ; padding: 10px; margin-bottom:0;"></div>
							<div style="background-color: {{ artwork.data.layer2_colour.hex_code }} ; padding: 10px; margin:0; padding-top:10;"></div>
							<div style="background-color: {{ artwork.data.layer1_colour.hex_code }} ; padding: 10px; margin:0; padding-top:10;"></div>
						</div>
					{% endif %}
			</tr>
		{% endfor %}
	</tbody>
</table>
{% endblock content %}

<!-- table pagination? --> 